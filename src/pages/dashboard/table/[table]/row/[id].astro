---
import Layout from '../../../../../layouts/Layout.astro';
import SingleRow from '../../../../../components/SingleRow.svelte';
import Tables from '../../../../../components/Tables.svelte';
// import type { Tables } from '../../../../../types';
import { Database } from '@lucide/svelte';

const params = Astro.params;

// const response = await fetch(`${Astro.url.origin}/api/read/tables`);
// const data = await response.json();
// tables = data;

// // const tables = await ky.get<Data>(`${Astro.url.origin}/api/tables/read`).json();
// const resRow = await fetch(
//   `${Astro.url.origin}/api/read/row/${params.table}-${params.id}`
// );
// const dataRow = await resRow.json();
// row = dataRow;
// console.log('row => ', row);
---

<Layout>
  <section class="grid grid-cols-12">
    <div class="col-span-3 px-2 py-4 w-full min-h-screen overflow-y-auto">
      <Tables client:only="svelte" />
    </div>
    <div class="col-span-9 px-2 py-4 w-full min-h-screen">
      <SingleRow table={params.table!} id={params.id!} client:only="svelte" />
    </div>
  </section>
</Layout>
