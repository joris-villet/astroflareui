---
// @ts-ignore
import Tables from '../components/Tables.svelte';
import Layout from '../layouts/Layout.astro';

// console.log('Astro url => ', Astro.url.origin)
// type Tables = {
//   table_name: string;
// };

// type Data = {
//   message: string;
//   success: boolean;
//   data: Tables[];
// };
// let tables = [];
// console.time('DB FETCH');
// const response = await fetch(`${Astro.url.origin}/api/read/tables`);
// const tables = await response.json();
// console.timeEnd('DB FETCH');
// console.log('tables => ', tables.data);

// const tables = await ky.get<Data>(`${Astro.url.origin}/api/tables/read`).json();

// console.log('tables => ', tables.data)
---

<Layout>
  <section class="grid grid-cols-12">
    <div
      class="col-span-3 px-2 py-4 bg-neutral-100 w-full min-h-screen overflow-y-auto"
    >
      <!-- <ul>
        {
          tables &&
            tables.data.map((t: Tables) => {
              return (
                <li class="flex gap-1 py-2 group">
                  <span class="group-hover:text-orange-500">
                    <Database />
                  </span>
                  <a
                    class="group-hover:text-neutral-600"
                    href={`/dashboard/table/${t.table_name}`}
                  >
                    {t.table_name}
                  </a>
                </li>
              );
            })
        }
      </ul> -->
      <Tables client:only="svelte" />
    </div>
    <div class="col-span-9 px-2 py-4 bg-neutral-50 w-full min-h-screen"></div>
  </section>
</Layout>
